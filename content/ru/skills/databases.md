+++
title = "Базы данных"
subtitle = "Общий опыт: 3 года"
tags = ['recipe']
date = 2020-03-25

# For description meta tag
description = "Мой опыт с базами данных."

# Comment next line and the default banner wil be used.
banner = 'img/databases.svg'

+++

У меня есть опыт работы как с традиционными реляционными базами данных, так и с NoSQL. 

# RDBMS

Я работал с PostgresSQL, MySQL и SQLite. PostgreSQL — универсальный вариант, в котором можно и триггеры наворачивать, и даже JSON хранить. Тем не менее, сегодня в мире много баз на MySQL/MariaDB, так что довелось поработать и с ними. С SQLite я работал в составе приложения бортовой диагностики: получалось лучше, чем если хранить всё в `csv`.

Тем не менее, несмотря на потенциал SQL как DSL, в моей практике пока не возникало необходимости в оптимизации запросов к БД, в отличие от обилия отношений типа many-to-many. В связи с этим, мой опыт в первую очередь базируется на взаимодействии с ORM.

# NoSQL

В плане документных баз больше всего опыта взаимодействия с MongoDB, в меньшей степени с [CouchDB](https://couchdb.apache.org/) и [ArangoDB](https://www.arangodb.com/). Идея хранить документы целиком неплоха до того момента, пока не возникает необходимости делать batch-запросы по отдельным полям документов в разных коллекциях. Даже специализированный DSL (ArangoDB) или перевод запросов на REST API (CouchDB) не дотягивают до удобства SQL, так что теперь у меня несколько настороженное отношение к этой теме.

Я использовал [Redis](https://redis.io/) для хранения идентификаторов процессов в планировщике задач и в качестве примитивного Message Queue. Отработал неплохо, но в определённый момент [RabbitMQ](https://www.rabbitmq.com/) всё-таки потребовался.

Из колоночных БД у меня есть небольшой опыт работы с [HBase](https://hbase.apache.org/) которую я планировал использовать для задачи по аналитике, но потом стало понятно, колоночная база не подходит, и больше я к ней не возвращался.

___
## Иллюстрация

- Композиция в целом: [оммаж Дали](https://en.wikipedia.org/wiki/The_Elephants).

- Заглавная надпись: логотип [PostgreSQL](https://www.postgresql.org/), на мой взгляд, являющейся на сегодняшний день первым вариантом для любой задачи, не имеющей явно выраженной нереляционной структуры (графы, массовый анализ данных, хранение документов).

- Таблицы monospace'ом в "облаках": начинаешь воспринимать сами базы данных в таком виде после того как некоторое время поработаешь с ними из терминала. Впрочем, никто не отменял `\x` в PostgreSQL или `\G` в MySQL.

- Слон: [Apache Hadoop](https://hadoop.apache.org/). К сожалению, я не сталкивался с задачами, требующими масштабов Hadoop, Cassandra или HBase.

- Обелиск над спиной слона: [Redis](https://redis.io/). Как было упомянуто выше, я использовал его для кэшей.

- Маленький синий осьминог у ног слона: логотип [ScyllaDB](https://www.scylladb.com/). На мой взгляд, интересный проект, учитывая полную совместимость к экосистемой Cassandra. Но, как и в случае с последней, в production использовать её не довелось.

- "Домик" на заднем плане: логотип [Memcached](https://memcached.org/). Посколькуи Redis неплохо справляется с задачами, требующими key-value storage, я знаком с Memcached очень бегло.
