+++
title = "Базы данных"
subtitle = "Общий опыт: 3 года"
tags = ['System']
date = 2020-03-25

# For description meta tag
description = "Мой опыт с базами данных."

# Comment next line and the default banner wil be used.
banner = 'img/databases.svg'

+++

У меня есть опыт работы как с традиционными реляционными базами данных, так и с NoSQL. 

# RDBMS

Я работал с PostgresSQL, MySQL и SQLite. PostgreSQL — универсальный вариант, в котором можно и триггеры наворачивать, и даже JSON хранить. Тем не менее, все нулевые основным выбором была MySQL, так что довелось поработать и с ней (в т. ч. с MariaDB). Я SQLite использовал для сбора и хранения информации, собираемой в ходе работы испытатеьного оборудования.

Тем не менее, несмотря на потенциал SQL как DSL, в моей практике пока не возникало необходимости в оптимизации запросов к БД, в отличие от обилия в реляционных схемах отношений типа many-to-many. В связи с этим, мой опыт в первую очередь базируется на взаимодействии с ORM.

# NoSQL

В плане документных баз у меня больше всего опыта с MongoDB, в меньшей степени с [CouchDB](https://couchdb.apache.org/) и [ArangoDB](https://www.arangodb.com/). Идея хранить документы целиком неплоха до того момента, пока не возникает необходимости делать batch-запросы по отдельным полям документов в разных коллекциях. Даже специализированный DSL (ArangoDB) или перевод запросов на REST API (CouchDB) не дотягивают до удобства SQL, так что сейчас я лишний раз задумываюсь о необходимости использования документо-ориентированных баз.

Я использовал [Redis](https://redis.io/) для хранения идентификаторов процессов в планировщике задач и в качестве примитивного Message Queue. Отработал неплохо, но в определённый момент всё-таки потребовался [RabbitMQ](https://www.rabbitmq.com/).

Из колоночных БД у меня есть небольшой опыт работы с [HBase](https://hbase.apache.org/) которую я планировал использовать для задачи по аналитике, но потом стало понятно, колоночная база не подходит для задачи, и больше я к ней не возвращался.

___
# Иллюстрация

- Композиция в целом: [оммаж Дали](https://en.wikipedia.org/wiki/The_Elephants).

- Заглавная надпись: логотип [PostgreSQL](https://www.postgresql.org/).

- Таблицы monospace'ом в «облаках»: начинаешь воспринимать сами базы данных в таком виде после того как некоторое время поработаешь с ними из терминала. Впрочем, никто не отменял `\x` в PostgreSQL или `\G` в MySQL.

- Слон: [Apache Hadoop](https://hadoop.apache.org/). К сожалению, я не сталкивался с задачами, требующими таких масштабов.

- Обелиск над спиной слона: [Redis](https://redis.io/).

- Маленький синий осьминог у ног слона: логотип [ScyllaDB](https://www.scylladb.com/). Интересный проект, учитывая полную совместимость к экосистемой Cassandra. Но, как и в случае с последней, в production использовать её не довелось.

- «Домик» на заднем плане: логотип [Memcached](https://memcached.org/). Поскольку Redis перекрывает функционал Memcached, с последним я знаком очень бегло.
