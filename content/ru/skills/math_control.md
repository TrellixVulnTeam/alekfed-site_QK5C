+++
title = "Разработка систем управления"
subtitle = "Общий опыт: 6 лет"
tags = ['Other']
date = 2020-02-25

# For description meta tag
description = "Линейная алгебра, комплексный анализ и группы."

# Comment next line and the default banner wil be used.
banner = 'img/math_control.svg'

+++

У меня есть опыт работы с системами автоматического управления летательных аппаратов (БПЛА) и испытательных устройств для систем электропитания космических аппаратов.

# Опубликованные работы

За время обучения в аспирантуре я опубликовал [пару десятков статей](https://www.elibrary.ru/author_items.asp?pubrole=100&authorid=872738&show_refs=1&show_option=0) и тройку патентов:

- [RU153595U1](https://patents.google.com/patent/RU153595U1)
- [RU154432U1](https://patents.google.com/patent/RU154432U1)
- [RU159208U1](https://patents.google.com/patent/RU159208U1)

Все они относятся к испытаниям систем электропитания космических аппаратов.

# Инструменты

[MATLAB](https://www.mathworks.com/products/matlab.html) зачастую является первым (и самым проработанным) выбором в качестве среды для разработки систем управления. Поскольку в определённый момент я начал пользоваться [pandas](https://pandas.pydata.org/), я решил перевести на Python также и свое окружение для работы с системами управления, использовав для этого [python-control](https://python-control.readthedocs.io/en/0.9.0/).

Сегодня же я бы занимался системами управления на [Julia](https://julialang.org/), поскольку в его экосистеме окрепли пакеты и для самих [систем управления](http://juliacontrol.github.io/ControlSystems.jl/latest/), и для [анализа неопределённостей](https://github.com/baggepinnen/MonteCarloMeasurements.jl), и очень впечатляющая [коллекция интеграторов](https://diffeq.sciml.ai/stable/).

# Испытательные комплексы

Я занимался разработкой электронных нерассеивающих нагрузок и программируемых зарядно-разрядных устройств. Я исследовал вопросы сопряжения систем управления отдельных нагрузочных ячеек (состоящих из импульсных преобразователей и широкополосных линейных регуляторов) с целью получения требуемых входных адмиттансно-частотных характеристик, в частности, для возможности наведения управляемых помех по потребляемом току в десятки ампер.

В целом, всё выглядело примерно так: сначала делались простые системы управления на БИХ-фильтрах или широкополосных аналоговых ПИД-регуляторах для исходных математических моделей, затем производилась идентификация устойчивых систем (алгоритмами [N4SID и MOESP](https://en.wikipedia.org/wiki/Subspace_identification_method)), делался синтез MIMO H∞-регуляторов для нескольких преобразователей и балансировались взаимовлияние ячеек.

# Винтокрылые БПЛА

Для системы управления вертолётов я разрабатывал как саму систему управления с необходимыми цепями обработки, так и имитационную математическую модель вертолёта, поскольку без замкнутых контуров управления вертолёт является неустойчивой системой, что значительно затрудняет синтез систем управления.

Математическая модель во многом основывалась на работах [Пэдфилда](https://www.amazon.com/Helicopter-Flight-Dynamics-Including-Treatment/dp/1119401054/) и [Джонсона](https://www.amazon.com/Rotorcraft-Aeromechanics-Cambridge-Aerospace-Johnson/dp/1107028078/) и разрабатывалась на C++ (подробнее в [соответствующем разделе](/ru/skills/cpp)).

Система управления разрабатывалась как набор MIMO-регуляторов ввиду сильного взаимовлияния контуров управления (особенно по циклическим шагам автомата перекоса). Помимо классических вариантов (H∞, ПИД), было исследовано несколько экспериментальных вариантов регуляторов, в частности:

- нелинейные регуляторы (полученные путём [бэкстеппинга](https://en.wikipedia.org/wiki/Backstepping)) — по факту они получались сильно зависящими от проработанности математической модели и давали слишком консервативные результаты (что, вообще говоря, логично, для ляпуновских регуляторов);

- регуляторы на основе нейросетей ([Keras](https://keras.io/), см. [Python](/ru/skills/python)) — делались методом обучения с подкреплением с градиентным поиском оптимума. Они потребляли много вычислительных ресурсов, устойчивость не всегда обеспечивалась даже в простейших режимах полёта, а надёжность такой системы управления в экстремальных режимах никак не гарантировалась.

# Фильтрация

Для систем управления также разрабатывались различные цифровые фильтры (см. [C++](/ru/skills/cpp)). В частности, при разработке модуля определения направления ветра по косвенным данным, я строил различные варинты наблюдателей ([UKF](https://en.wikipedia.org/wiki/Kalman_filter#Unscented_Kalman_filter), [многочастичный](https://en.wikipedia.org/wiki/Particle_filter)), но в итоге с задачей прекрасно справился незатейливый [расширенный фильтр Калмана](https://en.wikipedia.org/wiki/Extended_Kalman_filter).

___
# Иллюстрация

- Композиция в целом: обложка [превосходной книги](https://www.amazon.com/Nonlinear-Systems-3rd-Hassan-Khalil/dp/0130673897/) Хассана Халила по нелинейным системам.

- Уравнения: [расширенный фильтр Калмана](https://en.wikipedia.org/wiki/Extended_Kalman_filter).

- Структурная схема: [линейная стационарная система](https://en.wikipedia.org/wiki/Linear_time-invariant_system) с неопределённостями, приведённая путём [дробно-линейных преобразований](https://en.wikipedia.org/wiki/Linear_fractional_transformation) к виду, удобному для анализа и синтеза робастных регуляторов ([статья](https://core.ac.uk/download/pdf/84317308.pdf), с которой пошла мода на подобные вещи).

- Вертолёт на заднем плане: [Commanche](https://en.wikipedia.org/wiki/Boeing%E2%80%93Sikorsky_RAH-66_Comanche) — с детства нравился его внешний вид.
